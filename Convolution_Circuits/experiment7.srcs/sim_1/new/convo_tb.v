`timescale 1ns / 1ps

module convo_tb;
    reg clk = 0, rst;
    reg signed [24:0]data;
    reg signed [24:0]weight;
    wire signed [19:0] result;

    convo uut(.clk(clk), .rst(rst), .data(data),
              .weight(weight),.result(result));
    
    always begin
        #5 clk = ~clk;
    end
    initial begin
    rst = 1; 
    data = 24'b10000000_10000000_10000000; weight = 24'b11111111_11111111_11111111 ; #8; rst = 0; #10; 
    data = 24'b11111111_11111111_10000000; weight = 24'b11111111_00001000_11111111; #15; 
    data = 24'b11111111_11111111_10000000; weight = 24'b11111111_11111111_11111111; #10; 
    $write("Result(11) = %d\n", result);
    //
    rst = 1; 
    data = 24'b10000000_10000000_10000000; weight = 24'b11111111_11111111_11111111; #10; rst = 0; #10
    data = 24'b11111111_10000000_11111111; weight = 24'b11111111_00001000_11111111; #10; 
    data = 24'b11111111_10000000_11111111; weight = 24'b11111111_11111111_11111111; #10; 
    $write("Result(12) = %d\n", result);
    //
    rst = 1; 
    data = 24'b10000000_10000000_10000000; weight = 24'b11111111_11111111_11111111; #10; rst = 0; #10
    data = 24'b10000000_11111111_11111111; weight = 24'b11111111_00001000_11111111; #10; 
    data = 24'b10000000_11111111_11111111; weight = 24'b11111111_11111111_11111111; #10; 
    $write("Result(13) = %d\n", result);
    //
    rst = 1; 
    data = 24'b11111111_11111111_10000000; weight = 24'b11111111_11111111_11111111; #10; rst = 0; #10
    data = 24'b11111111_11111111_10000000; weight = 24'b11111111_00001000_11111111; #10; 
    data = 24'b11111111_11111111_10000000; weight = 24'b11111111_11111111_11111111; #10; 
    $write("Result(21) = %d\n", result);
    //
    rst = 1; 
    data = 24'b11111111_10000000_11111111; weight = 24'b11111111_11111111_11111111; #10; rst = 0; #10
    data = 24'b11111111_10000000_11111111; weight = 24'b11111111_00001000_11111111; #10; 
    data = 24'b11111111_10000000_11111111; weight = 24'b11111111_11111111_11111111; #10; 
    $write("Result(22) = %d\n", result);
    //
    rst = 1; 
    data = 24'b10000000_11111111_11111111; weight = 24'b11111111_11111111_11111111; #10; rst = 0; #10
    data = 24'b10000000_11111111_11111111; weight = 24'b11111111_00001000_11111111; #10; 
    data = 24'b10000000_11111111_11111111; weight = 24'b11111111_11111111_11111111; #10; 
    $write("Result(23) = %d\n", result);
    //
    rst = 1; 
    data = 24'b11111111_11111111_10000000; weight = 24'b11111111_11111111_11111111; #10; rst = 0; #10
    data = 24'b11111111_11111111_10000000; weight = 24'b11111111_00001000_11111111; #10; 
    data = 24'b11111111_11111111_10000000; weight = 24'b11111111_11111111_11111111; #10; 
    $write("Result(31) = %d\n", result);
    //
    rst = 1; 
    data = 24'b11111111_10000000_11111111; weight = 24'b11111111_11111111_11111111; #10; rst = 0; #10
    data = 24'b11111111_10000000_11111111; weight = 24'b11111111_00001000_11111111; #10; 
    data = 24'b11111111_10000000_11111111; weight = 24'b11111111_11111111_11111111; #10; 
    $write("Result(32) = %d\n", result);
    //
    rst = 1; 
    data = 24'b10000000_11111111_11111111; weight = 24'b11111111_11111111_11111111; #10; rst = 0; #10
    data = 24'b10000000_11111111_11111111; weight = 24'b11111111_00001000_11111111; #10; 
    data = 24'b10000000_11111111_11111111; weight = 24'b11111111_11111111_11111111; #7; 
    $write("Result(33) = %d\n", result);
    
    $finish; 
    end    
endmodule
